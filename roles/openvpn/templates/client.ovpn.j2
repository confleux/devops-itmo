client
dev tun
proto {{ openvpn_proto }}
remote {{ openvpn_server_ip }} {{ openvpn_port }}
resolv-retry infinite
nobind
persist-key
persist-tun
cipher AES-256-CBC
auth SHA256
key-direction 1
tls-client
remote-cert-tls server
<ca>
{{ lookup('file', '/etc/openvpn/easy-rsa/pki/ca.crt') }}
</ca>
<cert>
{{ lookup('file', '/etc/openvpn/easy-rsa/pki/issued/{{ openvpn_client_name }}.crt') }}
</cert>
<key>
{{ lookup('file', '/etc/openvpn/easy-rsa/pki/private/{{ openvpn_client_name }}.key') }}
</key>
<tls-auth>
{{ lookup('file', '/etc/openvpn/easy-rsa/pki/ta.key') }}
</tls-auth>
